{"ast":null,"code":"var _jsxFileName = \"/Users/jordanbruner/Desktop/Projects/EmptySillsFrontEnd/src/MainContainer/index.js\";\nimport React, { Component } from 'react';\nimport NavBar from '../Nav';\nimport { Container, Segment, Image } from 'semantic-ui-react';\n\nclass MainContainer extends Component {\n  constructor() {\n    super();\n\n    this.getUser = async () => {\n      try {\n        const userId = localStorage.getItem('sessionUserId');\n        let parsedUser = null; // const user = await fetch(`${process.env.REACT_APP_API_URL}/api/v1/users/${userId}`, {\n        //     credentials: 'include',\n        //     method: \"GET\"\n        // })\n        //const parsedUser = await user.json()\n\n        if (userId) {\n          parsedUser = JSON.parse(localStorage.getItem('currentUser'));\n        }\n\n        if (!parsedUser) {\n          this.props.history.push('/');\n        }\n\n        await this.setState({\n          currentUser: parsedUser\n        });\n        console.log(userId);\n        console.log(this.state.currentUser);\n        return React.createElement(Segment, {\n          inverted: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, \"Welcome back to Empty Sills, \", this.state.currentUser.display_name, \"! Be sure to stop by your \\\"Sill\\\" to check the status of your plants.\");\n      } catch (err) {\n        console.log(err);\n        this.props.history.push('/');\n      }\n\n      console.log(this.state.currentUser.display_name);\n    };\n\n    this.state = {\n      currentUser: null\n    };\n  }\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(Container, {\n      text: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: \"https://i.ibb.co/7XcZ3YC/Logo-Makr-2-Y74t-W.png\",\n      size: \"small\",\n      centered: \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), getUser));\n  }\n\n}\n\nexport default MainContainer;","map":{"version":3,"sources":["/Users/jordanbruner/Desktop/Projects/EmptySillsFrontEnd/src/MainContainer/index.js"],"names":["React","Component","NavBar","Container","Segment","Image","MainContainer","constructor","getUser","userId","localStorage","getItem","parsedUser","JSON","parse","props","history","push","setState","currentUser","console","log","state","display_name","err","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,SAAT,EAAoBC,OAApB,EAA6BC,KAA7B,QAA0C,mBAA1C;;AAIA,MAAMC,aAAN,SAA4BL,SAA5B,CAAqC;AACjCM,EAAAA,WAAW,GAAE;AACT;;AADS,SASbC,OATa,GASH,YAAY;AAClB,UAAG;AACC,cAAMC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAf;AACA,YAAIC,UAAU,GAAG,IAAjB,CAFD,CAIC;AACA;AACA;AACA;AAED;;AACC,YAAIH,MAAJ,EAAY;AACRG,UAAAA,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAAb;AACJ;;AAEA,YAAI,CAACC,UAAL,EAAiB;AACb,eAAKG,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH;;AAGD,cAAM,KAAKC,QAAL,CAAc;AAChBC,UAAAA,WAAW,EAAEP;AADG,SAAd,CAAN;AAIJQ,QAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAZ;AACAW,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWH,WAAvB;AACA,eACI,oBAAC,OAAD;AAAS,UAAA,QAAQ,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAAgD,KAAKG,KAAL,CAAWH,WAAX,CAAuBI,YAAvE,2EADJ;AAGC,OA5BD,CA4BE,OAAMC,GAAN,EAAU;AACRJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACA,aAAKT,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH;;AAEDG,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWH,WAAX,CAAuBI,YAAnC;AACH,KA5CY;;AAET,SAAKD,KAAL,GAAa;AACTH,MAAAA,WAAW,EAAE;AADJ,KAAb;AAGH;;AACDM,EAAAA,iBAAiB,GAAE;AACf,SAAKjB,OAAL;AACH;;AAqCDkB,EAAAA,MAAM,GAAE;AACJ,WACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,SAAD;AAAW,MAAA,IAAI,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,KAAD;AAAO,MAAA,GAAG,EAAC,iDAAX;AAA6D,MAAA,IAAI,EAAC,OAAlE;AAA0E,MAAA,QAAQ,EAAC,MAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAEClB,OAFD,CAFJ,CADJ;AAUH;;AAzDgC;;AA4DrC,eAAeF,aAAf","sourcesContent":["import React, {Component} from 'react';\nimport NavBar from '../Nav';\nimport { Container, Segment, Image } from 'semantic-ui-react';\n\n\n\nclass MainContainer extends Component{\n    constructor(){\n        super();\n        this.state = {\n            currentUser: null\n        }\n    }\n    componentDidMount(){\n        this.getUser();\n    }\n    getUser = async () => {\n        try{\n            const userId = localStorage.getItem('sessionUserId');\n            let parsedUser = null\n\n            // const user = await fetch(`${process.env.REACT_APP_API_URL}/api/v1/users/${userId}`, {\n            //     credentials: 'include',\n            //     method: \"GET\"\n            // })\n\n           //const parsedUser = await user.json()\n            if (userId) {\n                parsedUser = JSON.parse(localStorage.getItem('currentUser'));\n           } \n\n            if (!parsedUser) {\n                this.props.history.push('/')\n            }\n\n             \n            await this.setState({\n                currentUser: parsedUser\n            })\n\n        console.log(userId)\n        console.log(this.state.currentUser)\n        return (\n            <Segment inverted>Welcome back to Empty Sills, {this.state.currentUser.display_name}! Be sure to stop by your \"Sill\" to check the status of your plants.</Segment>\n            )\n        } catch(err){\n            console.log(err);\n            this.props.history.push('/')\n        }\n\n        console.log(this.state.currentUser.display_name)\n    }\n    render(){\n        return(\n            <React.Fragment>\n                <NavBar/>\n                <Container text>\n                <Image src=\"https://i.ibb.co/7XcZ3YC/Logo-Makr-2-Y74t-W.png\" size='small' centered='true'></Image>\n                {getUser}\n                </Container>\n                \n            </React.Fragment>\n        )\n    }\n}\n\nexport default MainContainer;"]},"metadata":{},"sourceType":"module"}