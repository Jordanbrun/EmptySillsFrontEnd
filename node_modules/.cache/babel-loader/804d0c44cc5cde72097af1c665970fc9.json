{"ast":null,"code":"var _jsxFileName = \"/Users/jordanbruner/Desktop/Projects/EmptyStillsFront/emptysills/src/SearchBar/index.js\";\nimport React, { Component } from 'react';\nimport { Button, Input } from 'semantic-ui-react';\nimport NavBar from '../Nav';\nimport axios from 'axios';\n\nclass Search extends Component {\n  constructor() {\n    super();\n\n    this.getUser = async () => {\n      try {\n        // console.log(\"get user function\");\n        const userId = localStorage.getItem('sessionUserId'); // console.log(userId);\n\n        const user = await fetch(`${process.env.REACT_APP_API_URL}/api/v1/users/${userId}`, {\n          credentials: 'include',\n          method: \"GET\"\n        });\n        const parsedUser = await user.json();\n        console.log(\"currentUser:\", parsedUser);\n        this.setState({\n          currentUser: parsedUser\n        });\n      } catch (err) {\n        console.log(err);\n        this.props.history.push('/');\n      }\n    };\n\n    this.searchButton = async () => {\n      const token = \"eTdMWkZzcGdZenh4c2NadEFtR0pLZz09\";\n      const url = \"https://trefle.io/api/plants/103505?token=\" + token;\n      axios.get(url).then(function (response) {\n        console.log(response);\n      });\n    };\n\n    this.updateValue = value => {\n      this.setState({\n        userInput: value\n      });\n    };\n\n    this.state = {\n      currentUser: [],\n      userInput: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(Input, {\n      icon: \"leaf\",\n      onChange: this.updateValue,\n      iconPosition: \"left\",\n      value: this.state.userInput,\n      placeholder: \"Search plants...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(Button, {\n      color: \"green\",\n      onClick: this.searchButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Search\"));\n  }\n\n}\n\nexport default Search; //  <input\n//type=\"text\"\n//value={this.state.userInput}\n//onChange={this.updateValue}\n// />","map":{"version":3,"sources":["/Users/jordanbruner/Desktop/Projects/EmptyStillsFront/emptysills/src/SearchBar/index.js"],"names":["React","Component","Button","Input","NavBar","axios","Search","constructor","getUser","userId","localStorage","getItem","user","fetch","process","env","REACT_APP_API_URL","credentials","method","parsedUser","json","console","log","setState","currentUser","err","props","history","push","searchButton","token","url","get","then","response","updateValue","value","userInput","state","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,mBAA9B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,MAAN,SAAqBL,SAArB,CAA8B;AAC1BM,EAAAA,WAAW,GAAE;AACT;;AADS,SAUbC,OAVa,GAUH,YAAY;AAClB,UAAG;AACC;AACA,cAAMC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAf,CAFD,CAGC;;AACA,cAAMC,IAAI,GAAG,MAAMC,KAAK,CAAE,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,iBAAgBP,MAAO,EAAzD,EAA4D;AAChFQ,UAAAA,WAAW,EAAE,SADmE;AAEhFC,UAAAA,MAAM,EAAE;AAFwE,SAA5D,CAAxB;AAKA,cAAMC,UAAU,GAAG,MAAMP,IAAI,CAACQ,IAAL,EAAzB;AACCC,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BH,UAA5B;AACD,aAAKI,QAAL,CAAc;AACVC,UAAAA,WAAW,EAAEL;AADH,SAAd;AAIH,OAfD,CAeE,OAAMM,GAAN,EAAU;AACRJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACA,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH;AACJ,KA9BY;;AAAA,SA+BbC,YA/Ba,GA+BE,YAAY;AACzB,YAAMC,KAAK,GAAG,kCAAd;AACA,YAAMC,GAAG,GAAG,+CAA+CD,KAA3D;AAEAzB,MAAAA,KAAK,CAAC2B,GAAN,CAAUD,GAAV,EACCE,IADD,CACM,UAAUC,QAAV,EAAoB;AACxBb,QAAAA,OAAO,CAACC,GAAR,CAAYY,QAAZ;AACD,OAHD;AAID,KAvCY;;AAAA,SAwCbC,WAxCa,GAwCEC,KAAD,IAAW;AACvB,WAAKb,QAAL,CAAc;AAACc,QAAAA,SAAS,EAAED;AAAZ,OAAd;AACD,KA1CY;;AAET,SAAKE,KAAL,GAAa;AACTd,MAAAA,WAAW,EAAE,EADJ;AAETa,MAAAA,SAAS,EAAC;AAFD,KAAb;AAIH;;AACDE,EAAAA,iBAAiB,GAAE;AACf,SAAK/B,OAAL;AACH;;AAkCDgC,EAAAA,MAAM,GAAE;AACJ,WACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEK,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFL,EAGK,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAKL,WAAlC;AAA+C,MAAA,YAAY,EAAC,MAA5D;AAAmE,MAAA,KAAK,EAAE,KAAKG,KAAL,CAAWD,SAArF;AAAgG,MAAA,WAAW,EAAC,kBAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHL,EAIK,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAsB,MAAA,OAAO,EAAE,KAAKR,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJL,CADJ;AAUH;;AAvDyB;;AA0D9B,eAAevB,MAAf,C,CAEA;AACoB;AACA;AACA;AACH","sourcesContent":["import React, { Component } from 'react'\nimport { Button, Input } from 'semantic-ui-react'\nimport NavBar from '../Nav';\nimport axios from 'axios'\n\nclass Search extends Component{\n    constructor(){\n        super();\n        this.state = {\n            currentUser: [],\n            userInput:\"\"\n        }\n    }\n    componentDidMount(){\n        this.getUser();\n    }\n    getUser = async () => {\n        try{\n            // console.log(\"get user function\");\n            const userId = localStorage.getItem('sessionUserId');\n            // console.log(userId);\n            const user = await fetch(`${process.env.REACT_APP_API_URL}/api/v1/users/${userId}`, {\n                credentials: 'include',\n                method: \"GET\"\n            })\n\n            const parsedUser = await user.json()\n             console.log(\"currentUser:\", parsedUser);\n            this.setState({\n                currentUser: parsedUser\n            })\n\n        } catch(err){\n            console.log(err);\n            this.props.history.push('/')\n        }\n    }\n    searchButton = async () => {\n      const token = \"eTdMWkZzcGdZenh4c2NadEFtR0pLZz09\"\n      const url = \"https://trefle.io/api/plants/103505?token=\" + token;\n\n      axios.get(url)\n      .then(function (response) {\n        console.log(response);\n      })\n    }\n    updateValue = (value) => {\n      this.setState({userInput: value})\n    }\n    render(){\n        return(\n            <React.Fragment>\n                \n                 <NavBar/>\n                 <Input icon='leaf' onChange={this.updateValue} iconPosition='left' value={this.state.userInput} placeholder='Search plants...' />\n                 <Button color=\"green\" onClick={this.searchButton}>Search</Button>\n            \n                \n            </React.Fragment>\n        )\n    }\n}\n\nexport default Search;\n\n//  <input\n                    //type=\"text\"\n                    //value={this.state.userInput}\n                    //onChange={this.updateValue}\n                 // />"]},"metadata":{},"sourceType":"module"}